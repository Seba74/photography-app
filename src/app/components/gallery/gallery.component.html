<section class="gallery__container" [@fadeInOut]>

    <div class="scroll scroll__down-left animate__animated"
        [ngClass]="{'animate__fadeOutDown animate__infinite animate__slower': !isDown, 'scrolling': isDown}" (mouseenter)="detectHover()"
        (mouseleave)="detectLeave()">
        <div class="scroll__down-text">
            <h1>Go Down</h1>
        </div>
        <div class="scroll__down-icon">
            <mat-icon>arrow_downward</mat-icon>
        </div>
    </div>
    <div class="scroll scroll__down-right animate__animated"
        [ngClass]="{'animate__fadeOutDown animate__infinite animate__slower': !isDown, 'scrolling': isDown}" (mouseenter)="detectHover()"
        (mouseleave)="detectLeave()">
        <div class="scroll__down-text">
            <h1>Go Down</h1>
        </div>
        <div class="scroll__down-icon">
            <mat-icon>arrow_downward</mat-icon>
        </div>
    </div>
    <div class="gallery__section-cover">
        <div class="photo__container">
            <img src="../../../assets/images/bg-ia.png" alt="">
        </div>
    </div>
    <div class="gallery-wrapper">
        <div class="gallery-column" #columns *ngFor="let images of imagesPerColumn; let i = index" id="{{i + 1}}">
            <div class="photo-content" *ngFor="let image of images" (mouseenter)="detectImage('')"
                (mouseleave)="detectLeaveImage()">
                <img data-aos="fade-up" data-aos-duration="800" (click)="onPreviewImage(image._id)"
                    [src]="image.imageUrl" alt="">
            </div>
        </div>
    </div>

    <div *ngIf="showMask" class="lightbox__container" @leaveAnimation>
        <span *ngIf="showCount" class="count">{{currentIndex + 1}}/{{totalImages}} </span>
        <div *ngIf="isOnPreview" class="close-btn" (mouseenter)="detectHover()" (mouseleave)="detectLeave()">
            <mat-icon (click)="onClosePreview()">close</mat-icon>
        </div>
        <div class="btn-light-carousel btn-prev">
            <mat-icon (click)="goBack()">chevron_left</mat-icon>
        </div>
        <div class="btn-light-carousel btn-next">
            <mat-icon (click)="goNext()">chevron_right</mat-icon>
        </div>
        <div *ngIf="isOnPreview" class="lightbox__image" [@animation]="{value: 'visible'}"
            (@animation.done)="animationEnd($event)">
            <img [src]="currentImageOnBox.imageUrl" alt="">
        </div>
    </div>
</section>